<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Map - Phases with Images</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .map-container {
            width: 90%;
            height: 80vh;
            background-image: url('path_to_your_background_image.jpg'); /* Adicione a imagem do mapa */
            background-size: cover;
            position: relative;
        }

        .phase {
            position: absolute;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: white; /* Fundo para destacar a imagem */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .phase img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .phase:hover {
            transform: scale(1.1);
        }

        .locked {
            background-color: gray;
            cursor: not-allowed;
        }

        .character {
            position: absolute;
            background-color: blue; /* Bonequinho simples como um círculo azul */
            border-radius: 50%;
            transition: top 1s, left 1s; /* Animação suave para o movimento do bonequinho */
        }

        /* Responsividade */
        @media (min-width: 1024px) {
            .phase {
                width: 80px;
                height: 80px;
            }

            .character {
                width: 60px;
                height: 60px;
            }
        }

        @media (min-width: 600px) and (max-width: 1023px) {
            .phase {
                width: 60px;
                height: 60px;
            }

            .character {
                width: 50px;
                height: 50px;
            }
        }

        @media (max-width: 599px) {
            .phase {
                width: 50px;
                height: 50px;
            }

            .character {
                width: 40px;
                height: 40px;
            }
        }
    </style>
</head>
<body>
    <div class="map-container" id="mapContainer">
        <!-- Fases com imagens e links serão geradas dinamicamente aqui -->
    </div>

    <script>
        // Fases dinâmicas com imagens e links para atividades
        const phasesData = [
            { id: 1, top: '10%', left: '10%', locked: false, image: 'imagem1.jpeg', link: '../unidade2/StoryCards/index.html' },
            { id: 2, top: '30%', left: '30%', locked: true, image: 'imagem2.jpeg', link: '../unidade2/Flashcards/index.html' },
            { id: 3, top: '50%', left: '20%', locked: true, image: 'imagem3.jpeg', link: '../unidade2/Flashcards2/index.html' },
            { id: 4, top: '70%', left: '40%', locked: true, image: 'imagem4.jpeg', link: '../unidade2/MemoryGame/index.html' },
            { id: 5, top: '50%', left: '60%', locked: true, image: 'imagem5.jpeg', link: '../unidade2/QUIZ/index.html' },
            { id: 6, top: '30%', left: '70%', locked: true, image: 'imagem6.jpeg', link: '../unidade2/WordSearch/index.html' },
            { id: 7, top: '10%', left: '80%', locked: true, image: 'imagem7.jpeg', link: '../unidade2/Grammar/index.html' }
        ];

        let currentPhase = 0; // Inicia na fase 0 (antes da primeira)

        // Função para gerar fases dinamicamente
        function generatePhases() {
            const mapContainer = document.getElementById('mapContainer');

            phasesData.forEach(phase => {
                const phaseDiv = document.createElement('div');
                phaseDiv.classList.add('phase');
                if (phase.locked) {
                    phaseDiv.classList.add('locked');
                }

                // Adiciona a imagem correspondente à fase
                const img = document.createElement('img');
                img.src = `../../imagens/${phase.image}`;
                img.alt = `Phase ${phase.id}`;
                phaseDiv.appendChild(img);

                // Define a posição de cada fase no mapa
                phaseDiv.style.top = phase.top;
                phaseDiv.style.left = phase.left;

                // Adiciona o evento de clique
                phaseDiv.addEventListener('click', function () {
                    if (!phase.locked) {
                        window.location.href = phase.link; // Redireciona para o HTML da fase
                    } else {
                        alert('This phase is locked.');
                    }
                });

                // Adiciona a fase ao mapa
                mapContainer.appendChild(phaseDiv);
            });

            // Adiciona o bonequinho ao mapa
            addCharacter();
        }

        // Função para adicionar o bonequinho no mapa
        function addCharacter() {
            const character = document.createElement('div');
            character.classList.add('character');
            character.id = 'gameCharacter';

            // Posiciona o bonequinho na primeira fase
            const firstPhase = phasesData[0];
            character.style.top = firstPhase.top;
            character.style.left = firstPhase.left;

            document.getElementById('mapContainer').appendChild(character);
        }

        // Função para mover o bonequinho entre as fases
        function moveCharacterToPhase(phaseIndex) {
            if (phaseIndex >= phasesData.length) return;

            const character = document.getElementById('gameCharacter');
            const targetPhase = phasesData[phaseIndex];

            character.style.top = targetPhase.top;
            character.style.left = targetPhase.left;

            currentPhase = phaseIndex; // Atualiza a fase atual
        }

        // Chama a função ao carregar a página
        window.onload = generatePhases;
    </script>
</body>
</html>
